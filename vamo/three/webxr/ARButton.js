class ARButton{static createButton(i,r={}){const a=document.createElement("button");function e(){a.style.display="",a.style.cursor="auto",a.style.left="calc(50% - 75px)",a.style.width="150px",a.onmouseenter=null,a.onmouseleave=null,a.onclick=null}function t(t){t.style.position="absolute",t.style.bottom="20px",t.style.padding="12px 6px",t.style.border="1px solid #fff",t.style.borderRadius="4px",t.style.background="rgba(0,0,0,0.1)",t.style.color="#fff",t.style.font="normal 13px sans-serif",t.style.textAlign="center",t.style.opacity="0.5",t.style.outline="none",t.style.zIndex="999"}var n;return"xr"in navigator?(a.id="ARButton",a.style.display="none",t(a),navigator.xr.isSessionSupported("immersive-ar").then(function(t){if(t){var n,o;void 0===r.domOverlay&&((t=document.createElement("div")).style.display="none",document.body.appendChild(t),(n=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("width",38),n.setAttribute("height",38),n.style.position="absolute",n.style.right="20px",n.style.top="20px",n.addEventListener("click",function(){e.end()}),t.appendChild(n),(o=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d","M 12,12 L 28,28 M 28,12 12,28"),o.setAttribute("stroke","#fff"),o.setAttribute("stroke-width",2),n.appendChild(o),void 0===r.optionalFeatures&&(r.optionalFeatures=[]),r.optionalFeatures.push("dom-overlay"),r.domOverlay={root:t});let e=null;async function s(t){t.addEventListener("end",l),i.xr.setReferenceSpaceType("local"),await i.xr.setSession(t),a.textContent="STOP AR",r.domOverlay.root.style.display="",e=t}function l(){e.removeEventListener("end",l),a.textContent="START AR",r.domOverlay.root.style.display="none",e=null}a.style.display="",a.style.cursor="pointer",a.style.left="calc(50% - 50px)",a.style.width="100px",a.textContent="START AR",a.onmouseenter=function(){a.style.opacity="1.0"},a.onmouseleave=function(){a.style.opacity="0.5"},a.onclick=function(){null===e?navigator.xr.requestSession("immersive-ar",r).then(s):e.end()}}else e(),a.textContent="AR NOT SUPPORTED"}).catch(function(t){e(),console.warn("Exception when trying to call xr.isSessionSupported",t),a.textContent="AR NOT ALLOWED"}),a):(n=document.createElement("a"),!1===window.isSecureContext?(n.href=document.location.href.replace(/^http:/,"https:"),n.innerHTML="WEBXR NEEDS HTTPS"):(n.href="https://immersiveweb.dev/",n.innerHTML="WEBXR NOT AVAILABLE"),n.style.left="calc(50% - 90px)",n.style.width="180px",n.style.textDecoration="none",t(n),n)}}export{ARButton};