import{GLTFLoader}from"../loaders/GLTFLoader.js";const DEFAULT_HAND_PROFILE_PATH="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles/generic-hand/";class XRHandMeshModel{constructor(e,i,n,a,r=null){this.controller=i,this.handModel=e,this.bones=[],null===r&&(r=new GLTFLoader).setPath(n||DEFAULT_HAND_PROFILE_PATH),r.load(a+".glb",e=>{const n=e.scene.children[0];this.handModel.add(n);e=n.getObjectByProperty("type","SkinnedMesh");e.frustumCulled=!1,e.castShadow=!0,e.receiveShadow=!0;["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"].forEach(e=>{var i=n.getObjectByName(e);void 0!==i?i.jointName=e:console.warn(`Couldn't find ${e} in ${a} hand mesh`),this.bones.push(i)})})}updateMesh(){var i=this.controller.joints;for(let e=0;e<this.bones.length;e++){var n,a,r=this.bones[e];!r||(n=i[r.jointName]).visible&&(a=n.position,r.position.copy(a),r.quaternion.copy(n.quaternion))}}}export{XRHandMeshModel};