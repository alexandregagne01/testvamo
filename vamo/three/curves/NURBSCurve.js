import{Curve,Vector3,Vector4}from"../three.module.js";import*as NURBSUtils from"../curves/NURBSUtils.js";class NURBSCurve extends Curve{constructor(t,s,e,o,n){super(),this.degree=t,this.knots=s,this.controlPoints=[],this.startKnot=o||0,this.endKnot=n||this.knots.length-1;for(let t=0;t<e.length;++t){var i=e[t];this.controlPoints[t]=new Vector4(i.x,i.y,i.z,i.w)}}getPoint(t,s=new Vector3){t=this.knots[this.startKnot]+t*(this.knots[this.endKnot]-this.knots[this.startKnot]),t=NURBSUtils.calcBSplinePoint(this.degree,this.knots,this.controlPoints,t);return 1!==t.w&&t.divideScalar(t.w),s.set(t.x,t.y,t.z)}getTangent(t,s=new Vector3){t=this.knots[0]+t*(this.knots[this.knots.length-1]-this.knots[0]),t=NURBSUtils.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,t,1);return s.copy(t[1]).normalize(),s}}export{NURBSCurve};